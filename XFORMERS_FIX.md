# üîß ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ xFormers Error

---

## ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠:

```
RuntimeError: Couldn't install xformers.
ERROR: Failed building wheel for xformers
```

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ (‡∏°‡∏µ 3 ‡∏ß‡∏¥‡∏ò‡∏µ):

### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ SDUnlimited_v2.ipynb (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥!)**

**‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** - ‡∏ú‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á Notebook ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß

1. ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå `SDUnlimited_v2.ipynb` ‡πÅ‡∏ó‡∏ô
2. ‡πÅ‡∏¢‡∏Å Cell ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á xFormers (Cell 3.5)
3. ‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ (Cell 4.0 ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥)

**‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á:**
- Cell 3.5 ‡πÉ‡∏´‡∏°‡πà: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á xFormers ‡πÅ‡∏¢‡∏Å (optional)
- Cell 4.0 ‡πÉ‡∏´‡∏°‡πà: ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ flag `--xformers` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á build error
- ‡πÄ‡∏û‡∏¥‡πà‡∏° `--skip-python-version-check` ‡πÅ‡∏•‡∏∞ `--skip-install`

---

### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÅ‡∏Å‡πâ Cell 4.0 ‡πÄ‡∏î‡∏¥‡∏°**

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Notebook ‡πÄ‡∏î‡∏¥‡∏° ‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô Cell 4.0:

**‡∏•‡∏ö‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ:**
```python
  --xformers \
```

**‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ:**
```python
  --skip-python-version-check \
  --skip-torch-cuda-test \
  --skip-install \
```

**‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ:**
```python
import os
os.chdir('/content/stable-diffusion-webui')

print("="*60)
print("üöÄ Starting SD Unlimited WebUI...")
print("="*60)
print()
print("üîç Look for: 'Running on public URL: https://xxxxx.gradio.live'")
print()
print("="*60)
print()

!python launch.py \
  --skip-python-version-check \
  --skip-torch-cuda-test \
  --api \
  --cors-allow-origins=* \
  --share \
  --enable-insecure-extension-access \
  --no-half-vae \
  --disable-safe-unpickle \
  --no-hashing \
  --lowvram \
  --skip-install
```

---

### **‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á xFormers ‡πÅ‡∏¢‡∏Å (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç)**

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ xFormers ‡∏à‡∏£‡∏¥‡∏á‡πÜ:

**‡∏™‡∏£‡πâ‡∏≤‡∏á Cell ‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏á Cell 3.0:**

```python
# Cell 3.5 - Install xFormers
print("Installing xFormers...")

try:
    # ‡πÉ‡∏ä‡πâ pre-built wheel
    !pip install -q xformers==0.0.27 --no-deps
    print("‚úÖ xFormers installed!")
except:
    print("‚ö†Ô∏è xFormers install failed, will work without it")
```

‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô Cell 4.0 ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÉ‡∏ä‡πâ `--xformers` flag ‡πÑ‡∏î‡πâ

---

## üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö:

| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡πÑ‡∏°‡πà‡∏°‡∏µ xFormers | ‡∏°‡∏µ xFormers |
|---------|----------------|-------------|
| ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß | 100% | 130-150% (‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô 30-50%) |
| RAM | ‡πÉ‡∏ä‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ | ‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ |
| ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á | ‡∏á‡πà‡∏≤‡∏¢ | ‡∏¢‡∏≤‡∏Å (‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ) |
| ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏†‡∏≤‡∏û | ‡∏î‡∏µ | ‡∏î‡∏µ |

**‡∏™‡∏£‡∏∏‡∏õ:** ‡πÑ‡∏°‡πà‡∏°‡∏µ xFormers ‡∏Å‡πá‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÅ‡∏Ñ‡πà‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤ 30-50% ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

---

## üéØ ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ:
‚Üí **‡πÉ‡∏ä‡πâ SDUnlimited_v2.ipynb** (‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß)

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß:
‚Üí ‡∏•‡∏≠‡∏á Cell 3.5 (Install xFormers ‡πÅ‡∏¢‡∏Å)
‚Üí ‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏î‡πâ

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ Colab Pro:
‚Üí GPU ‡∏ó‡∏µ‡πà‡πÅ‡∏£‡∏á‡∏Å‡∏ß‡πà‡∏≤ (A100, V100) ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á xFormers ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤

---

## üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:

1. **Error ‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ**
   - WebUI ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ xFormers
   - ‡πÅ‡∏Ñ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

2. **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å:**
   - Python version ‡πÉ‡∏´‡∏°‡πà (3.12.11) ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö xFormers
   - xFormers ‡∏ï‡πâ‡∏≠‡∏á compile ‡∏à‡∏≤‡∏Å source (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à fail)

3. **‡∏ó‡∏≥‡πÑ‡∏° SDUnlimited_v2 ‡πÅ‡∏Å‡πâ‡πÑ‡∏î‡πâ:**
   - ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á xFormers ‡∏ï‡∏≠‡∏ô launch
   - ‡πÅ‡∏¢‡∏Å xFormers ‡πÄ‡∏õ‡πá‡∏ô optional step
   - ‡πÉ‡∏ä‡πâ `--skip-install` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ xFormers ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:

‡∏´‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô Cell 4.0 ‡πÉ‡∏´‡πâ‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÉ‡∏ô output:

```
Applied 2 optimizations(s). <class 'modules.sd_hijack_optimizations.SdOptimizationXformers'>
```

- ‚úÖ ‡πÄ‡∏´‡πá‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ = xFormers ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‚ùå ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô = ‡πÉ‡∏ä‡πâ optimization ‡∏≠‡∏∑‡πà‡∏ô (‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥)

---

## üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á:

- xFormers GitHub: https://github.com/facebookresearch/xformers
- Stable Diffusion WebUI: https://github.com/AUTOMATIC1111/stable-diffusion-webui
- Issue ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö xFormers: https://github.com/AUTOMATIC1111/stable-diffusion-webui/issues/10117

---

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠: 2025-01-08
‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 2025-01-08
