================================================================================
üîß ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ CORS Error - Cloudflare Tunnel + Stable Diffusion WebUI
================================================================================

‚ùå Error ‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠:

Access to fetch at 'https://xxx.trycloudflare.com/generate'
from origin 'https://aigen.ptee88.com' has been blocked by CORS policy

================================================================================

‚úÖ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:

1. ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API endpoint ‡∏ú‡∏¥‡∏î:
   ‚ùå /generate (‡πÑ‡∏°‡πà‡∏°‡∏µ endpoint ‡∏ô‡∏µ‡πâ)
   ‚úÖ /sdapi/v1/txt2img (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)

2. Stable Diffusion WebUI ‡πÉ‡∏ä‡πâ API format ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô:
   ‚ùå guidance_scale
   ‚úÖ cfg_scale

================================================================================

‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ (‡∏ó‡∏≥‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß):

1. ‡πÅ‡∏Å‡πâ AIGeneration.tsx:
   - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô endpoint ‡∏à‡∏≤‡∏Å /generate ‚Üí /sdapi/v1/txt2img
   - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô guidance_scale ‚Üí cfg_scale
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° sampler_name, restore_faces, enable_hr
   - ‡πÅ‡∏õ‡∏•‡∏á base64 response ‡πÄ‡∏õ‡πá‡∏ô data URL

2. Commit ‡πÅ‡∏•‡∏∞ Push ‡πÑ‡∏õ GitHub:
   - Vercel ‡∏à‡∏∞ auto-deploy
   - ‡∏£‡∏≠ 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ

================================================================================

üìã API Format ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:

POST /sdapi/v1/txt2img

Body:
{
  "prompt": "your prompt",
  "negative_prompt": "bad quality, blurry",
  "steps": 25,
  "cfg_scale": 7,              // ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà guidance_scale
  "width": 512,
  "height": 768,
  "seed": -1,                  // -1 = random
  "sampler_name": "DPM++ 2M Karras",
  "restore_faces": false,
  "enable_hr": false
}

Response:
{
  "images": ["base64_string_here"],
  "info": "...",
  "parameters": {...}
}

================================================================================

üîç ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ API ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:

1. ‡πÄ‡∏õ‡∏¥‡∏î Console ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå (F12)

2. ‡∏Å‡∏î Generate

3. ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:
   ‚úÖ "üì° API URL: https://xxx.trycloudflare.com/sdapi/v1/txt2img"
   ‚úÖ "‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"

4. ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ Error:
   ‚ùå "‚ùå API Error: 404" ‚Üí WebUI ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏° (‡∏£‡∏≠ 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ)
   ‚ùå "‚ùå API Error: 500" ‚Üí ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô Colab (‡πÄ‡∏ä‡πá‡∏Ñ Cell 4.0)
   ‚ùå CORS Error ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ deploy ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

================================================================================

üìù Stable Diffusion WebUI API Endpoints:

GET  /sdapi/v1/sd-models          ‚Üí ‡∏î‡∏π models ‡∏ó‡∏µ‡πà‡∏°‡∏µ
POST /sdapi/v1/txt2img            ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å text
POST /sdapi/v1/img2img            ‚Üí ‡πÅ‡∏õ‡∏•‡∏á‡∏†‡∏≤‡∏û
POST /sdapi/v1/extra-single-image ‚Üí upscale
GET  /sdapi/v1/samplers           ‚Üí ‡∏î‡∏π samplers ‡∏ó‡∏µ‡πà‡∏°‡∏µ
GET  /sdapi/v1/options            ‚Üí ‡∏î‡∏π settings

‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/API

================================================================================

‚úÖ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ:

1. ‡∏£‡∏≠ Vercel deploy (1-2 ‡∏ô‡∏≤‡∏ó‡∏µ)

2. Refresh ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå https://aigen.ptee88.com/

3. ‡∏•‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡πÉ‡∏´‡∏°‡πà:
   - Settings ‚Üí Google Colab ‚Üí ‡πÉ‡∏™‡πà URL ‡∏à‡∏≤‡∏Å Colab
   - Settings ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î NSFW Unlimited Mode
   - AI Generation ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Template ‚Üí Generate

4. ‡πÄ‡∏ä‡πá‡∏Ñ Console (F12):
   - ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô "üì° API URL: https://xxx.trycloudflare.com/sdapi/v1/txt2img"
   - ‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô "‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"

5. ‡∏£‡∏≠ 20-40 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ!

================================================================================

üéØ ‡∏™‡∏£‡∏∏‡∏õ:

‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API endpoint ‡∏ú‡∏¥‡∏î + format ‡∏ú‡∏¥‡∏î
‡πÅ‡∏Å‡πâ: ‡πÉ‡∏ä‡πâ /sdapi/v1/txt2img ‡∏û‡∏£‡πâ‡∏≠‡∏° format ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
Status: ‚úÖ ‡πÅ‡∏Å‡πâ‡πÅ‡∏•‡πâ‡∏ß, ‡∏£‡∏≠ Vercel deploy

================================================================================

‡πÄ‡∏ß‡∏•‡∏≤: 2025-01-08
Status: ‚úÖ Fixed & Deployed

================================================================================
